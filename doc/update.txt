UPDATE MECHANISM
================

The SPV3 GUI permits automatic updating of the SPV3 assets to the latest
versions. SPV3 assets include any non-executable files.

NOTE: For security reasons, the SPV3 GUI cannot automatically update
itself, HXE, or any other executables.

METHOD
------

The update mechanism is implemented as the following steps:

1.  retrieve and deserialise the manifest file from the server;
2.  for each entry declared in it, check if it exists on the file
    system;
3.  if it exists, check if the length is the same as the one in the
    entry;
4.  if step 2 or 3 end up being false, then download the file to the
    system.

Mechanisms for graceful preparation and handling of failures include:

-   directory creation prior to updating;
-   backing up of existing files before updating;
-   restoring backed up files on update failure.

MANIFEST
--------

The manifest is located at:

    https://raw.githubusercontent.com/yumiris/SPV3/meta/update.xml

It represents the latest available update for SPV3 assets, by providing
URLs and additional metadata for the relevant files:

    <?xml version="1.0" encoding="utf-8"?>
    <Update xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
      <Name>Update Name</Name>
      <Description>Update description ...</Description>
      <Time>1234567890</Time>
      <Entries>
        <Entry>
          <URL>https://github.com/yumiris/SPV3/releases/download/2019-05-04.01/file_01.bin</URL>
          <Name>file_01.bin</Name>
          <Path>maps</Path>
          <Size>8192</Size>
          <Hash>60cfb566702b825a63810bbdc2cd1bab</Hash>
        </Entry>
        <Entry>
          <URL>https://github.com/yumiris/SPV3/releases/download/2019-05-04.01/file_02.bin</URL>
          <Name>file_02.bin</Name>
          <Path>maps</Path>
          <Size>8192</Size>
          <Hash>2669e6eaa3aad2c904617e071360cf6a</Hash>
        </Entry>
      </Entries>
    </Update>
